from elektron import Line, Dot, Label, Element, Draw

draw = Draw()
draw.add(Label("INPUT").rotate(180))
draw.add(Line())
draw.add(Element("R1", "Device:R", value="100k", Spice_Netlist_Enabled="Y").rotate(90))
draw.add(Element("C1", "Device:C", value="47n").at("R1", 2).rotate(270))
draw.add(Line().at("C1", 1))
draw.add(u1_dot_in := Dot())
draw.add(Line())
draw.add(Element("U1", "4xxx:4069", value="U1"))
draw.add(Line().at("U1", 2))
draw.add(u1_dot_out := Dot())
draw.add(Line())
draw.add(Element("C2", "Device:C", value="10u").rotate(90))
draw.add(Line().at("C2", 2))
draw.add(out_dot := Dot())
draw.add(Line())
draw.add(Label("OUTPUT"))
draw.add(Line().up().xy(u1_dot_out).len(10.16))
draw.add(Element("R2", "Device:R", value="100k").rotate(270).tox(u1_dot_in))
draw.add(Line().down().len(10.16))
draw.add(Element("R3", "Device:R", value="100k").xy(out_dot).rotate(180))
draw.add(Element("GND", "power:GND", value="GND").at("R3", 1))

draw.write("schema.kicad_sch", True)
# draw.plot("schema.svg", False, 3)
# draw.netlist("schema.cir")

